---
import AppLayout from "../layouts/AppLayout.astro";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  title: string;
  description: string;
  image: ImageMetadata;
  imageAlt: string;
  pubDate: Date;
  url: string;
  author: string;
}

const { title, description, image, imageAlt, pubDate, url, author } =
  Astro.props;

const ogImage = {
  src: `/image/${url}.png`,
  alt: title,
};

const fullPubDate = pubDate.toLocaleDateString("en", {
  dateStyle: "full",
});
---

<AppLayout
  title={title}
  description={description}
  ogImage={ogImage}
  pubDate= {pubDate},
  author={author}
>
  <section class="px-6 lg:px-0 mx-auto max-w-3xl mt-12">
    <header class="flex flex-col mb-8">
      <time
        datetime={pubDate.toISOString()}
        class="block text-center dark:text-zinc-400 text-zinc-600 mb-4 text-sm sm:text-base"
      >
        {fullPubDate}
      </time>
      <h1
        class="text-2xl sm:text-4xl pb-8 font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500"
      >
        {title}
      </h1>
      <div class="inline-flex gap-2 justify-center items-center mb-8">
        <p class="dark:text-zinc-400 text-zinc-700 text-sm">
          <span class="block font-semibold">{author}</span>
        </p>
      </div>
      <Image
        src={image}
        alt={imageAlt}
        loading="eager"
        class="rounded-lg"
        width={1200}
        height={630}
      />
    </header>

    <article
      class="prose dark:prose-invert lg:prose-lg dark:prose-code:text-zinc-300 dark:prose-a:text-blue-400 prose-a:text-blue-600 max-w-none hover:prose-a:underline focus:prose-a:underline prose-a:no-underline dark:prose-headings:text-teal-500 prose-img:rounded-lg"
    >
      <slot />
    </article>
  </section>
</AppLayout>