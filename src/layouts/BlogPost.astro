---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import FormattedDate from "../components/FormattedDate.astro";
import AppLayout from "./AppLayout.astro";
type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<AppLayout title={title} description={description}>
  <main class="max-w-3xl mx-auto my-10 px-6 lg:px-0" data-pagefind-body>
    <header class="flex flex-col mb-8">
      <FormattedDate
        date={pubDate}
        data-pagefind-ignore
        transition:name="blogTime"
      />
      {
        updatedDate && (
          <div class="last-updated-on">
            Last updated on{" "}
            <FormattedDate
              date={updatedDate}
              data-pagefind-ignore
              transition:name="blogTime"
            />
          </div>
        )
      }
      <h1
        class="text-2xl sm:text-4xl pb-4 font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500"
        transition:name="blogTitle"
      >
        {title}
      </h1>
    </header>
    {
      heroImage && (
        <Image
          width={1020}
          height={510}
          src={heroImage}
          alt=""
          class="rounded-lg"
          data-pagefind-ignore
        />
      )
    }
    <article
      class="mt-10 prose-invert lg:prose-lg prose-code:text-zinc-300 prose-a:text-blue-400 max-w-none hover:prose-a:underline focus:prose-a:underline prose-a:no-underline prose-headings:text-teal-500 prose-img:rounded-lg"
    >
      <slot />
    </article>
  </main>
</AppLayout>
